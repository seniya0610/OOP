#include <iostream>
#include <string>
using namespace std;

class Book {
private:
    string title;
    double price;
    int stock;

public:
    Book() {
        title = "Unknown";
        price = 0.0;
        stock = 30;
    }

    void UpdateBook(string nt, double np, int ns) {
        title = nt;
        price = np;
        stock = ns;
        cout << "Book details updated successfully!" << endl;
        displayBookInfo();
        alert();
    }

    void purchase(int quantity) {
        if (quantity > stock) {
            cout << "Error: Not enough stock. Available: " << stock << " units." << endl;
        } else {
            stock -= quantity;
            cout << "Purchased " << quantity << " copies of '" << title << "'." << endl;
            displayBookInfo();
            alert();
        }
    }

    void trackStockLevels() const {
        cout << "Current stock for '" << title << "': " << stock << " units." << endl;
    }

    void alert() const {
        if (stock < 5) {
            cout << "Warning: Stock for '" << title << "' has fallen below 5 units!" << endl;
        }
    }

    void displayBookInfo() const {
        cout << "\n--- Book Information ---" << endl;
        cout << "Title: " << title << endl;
        cout << "Price: $" << price << endl;
        cout << "Stock: " << stock << " units" << endl;
    }
};

int main() {
    Book myBook;
    cout << "Initial Book Details:" << endl;
    myBook.displayBookInfo();

    cout << "\nUpdating book details:" << endl;
    myBook.UpdateBook("The Great Gatsby", 15, 8);

    cout << "\nAttempting to purchase 5 copies:" << endl;
    myBook.purchase(5);

    cout << "\nAttempting to purchase 4 copies:" << endl;
    myBook.purchase(4);

    return 0;
}
